<div class="bmt-table">
  <div class="filters_area row">
    <div class="col-lg-2 d-flex mb-3">
      <mat-form-field appearance="fill" class="filter-input">
        <mat-label>Department Name</mat-label>
        <input matInput [(ngModel)]="depListParams.filters.name" type="text">
      </mat-form-field>
    </div>
    <div class="col-lg-3 d-flex mb-3">
      <button class="bmt-btn mr-1" type="button" (click)="resetFilters()">Reset</button>
      <button class="bmt-btn mr-1" type="button" (click)="searchRec()">Search</button>
      <button class="bmt-btn" type="button" (click)="addDepartment()" matTooltip="Add department">
        <svg width="21px" height="21px" viewBox="0 0 48 48" style="fill: #fff;" ><path d="M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z"/></svg>
      </button>
    </div>
  </div>

  <div class="no-data" *ngIf="dataSource.length===0">
    <img src="/assets/images/svg/no-data.svg" alt="no data">
    <p>No data found</p>
  </div>

  <div class="mat-elevation-z8 actions" *ngIf="dataSource.length>0">
    <table mat-table [dataSource]="dataSource">


      <!-- Weight Column -->
      <ng-container matColumnDef="saved_date">
        <th mat-header-cell *matHeaderCellDef> Saved Date </th>
        <td mat-cell *matCellDef="let element"> {{formatTime(element.saved_date)}} </td>
      </ng-container>

      <!-- Symbol Column -->
      <ng-container matColumnDef="dep_name">
        <th mat-header-cell *matHeaderCellDef> Department Name </th>
        <td mat-cell *matCellDef="let element"> {{element.name}} </td>
      </ng-container>

      <ng-container matColumnDef="dep_employees">
        <th mat-header-cell *matHeaderCellDef> Employees </th>
        <td mat-cell *matCellDef="let element"> {{element.employee_count || 0}} </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef class="actions__actions"></th>
        <td mat-cell *matCellDef="let element">
          <div class="d-flex justify-content-center">
            <div class="action action--red mr-2" (click)="removeDepartment(element)">
              <i class="fa fa-trash"></i>
            </div>
            <div class="action" (click)="editDepartment(element)">
              <i class="fa fa-pencil"></i>
            </div>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="actions__row"></tr>
    </table>
    <app-pagination
      [length]="length"
      [total]="total"
      [itemsPerPage]="depListParams.per_page"
      [currentPage]="depListParams.current"
      (switchPage)="getDepartmentsList($event)"
    ></app-pagination>
  </div>
</div>
